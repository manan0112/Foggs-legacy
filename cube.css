:root {
  --cube-size: 146px; /* 66% of previous 220px size. */
  --cube-gap: 3.25rem;
  --cube-depth: 900px; /* Perspective depth keeps faces readable while rotating. */
  --cube-border: #d9d3c8;
  --cube-face: #2f4b70;
  --cube-face-quiet: #03516c;
  --cube-text: #ffffff;
  --cube-transition: 120ms;
}

.hero-cubes {
  margin: 32px 0 56px;
}

.hero-cubes h1 {
  margin: 0 0 8px;
}

.hero-cubes .lede {
  margin: 0 0 16px;
}

.cube-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 3rem;
  margin-top: 28px;
}

.cube-wrapper {
  position: relative;
  min-height: var(--cube-size);
}

.cube-fallback {
  border: 1px solid var(--cube-border);
  background: #ffffff;
  color: #1f1f1b;
  border-radius: 10px;
  padding: 1rem;
  display: grid;
  align-content: center;
  justify-items: start;
  gap: 0.35rem;
}

.fallback-link {
  color: var(--cube-face);
  text-decoration: none;
  font-weight: 700;
  letter-spacing: 0.03em;
}

.fallback-link:hover,
.fallback-link:focus-visible {
  text-decoration: underline;
  outline: none;
}

.fallback-note {
  margin: 0;
  font-size: 0.9rem;
  color: #4f4f4b;
}

/* 3D cube container with perspective so faces appear dimensional. The depth keeps faces readable while allowing rotation without distortion. */
.cube-shell {
  width: var(--cube-size);
  height: var(--cube-size);
  margin: 0 auto;
  perspective: var(--cube-depth);
  display: none; /* Hidden until JS toggles .js-enabled. */
}

.cube {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform var(--cube-transition) ease-out;
  cursor: grab;
}

.cube:active { cursor: grabbing; }

.face {
  position: absolute;
  width: var(--cube-size);
  height: var(--cube-size);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-weight: 700;
  font-size: 0.95rem;
  color: var(--cube-text);
  background: var(--cube-face-quiet);
  border: 1px solid var(--cube-border);
  border-radius: 8px;
  backface-visibility: hidden;
  text-decoration: none;
  line-height: 1.2;
  padding: 0.75rem;
  transition: background var(--cube-transition) ease, color var(--cube-transition) ease;
}

.face:hover,
.face:focus-visible {
  background: var(--cube-face);
  outline: none;
}

.face-front  { transform: translateZ(calc(var(--cube-size) / 2)); }
.face-back   { transform: rotateY(180deg) translateZ(calc(var(--cube-size) / 2)); }
.face-right  { transform: rotateY(90deg) translateZ(calc(var(--cube-size) / 2)); }
.face-left   { transform: rotateY(-90deg) translateZ(calc(var(--cube-size) / 2)); }
.face-top    { transform: rotateX(90deg) translateZ(calc(var(--cube-size) / 2)); }
.face-bottom { transform: rotateX(-90deg) translateZ(calc(var(--cube-size) / 2)); }

/* Show 3D cubes only when JS marks the page as enhanced. */
body.js-enabled .cube-shell { display: block; }
body.js-enabled .cube-fallback { display: none; }

/* Responsive tweaks */
@media (max-width: 600px) {
  :root { --cube-size: 130px; --cube-gap: 2rem; }
}
